<mat-tab-group animationDuration="0ms">
  <mat-tab label="IP Details">
    <section class="content-body">
      <div class="col-md-12 no-padding">
        <div class="box">
          <div class="box-header">
            <h5 class="box-title">IPs</h5>
          </div>
          <p-contextMenu
            #cm
            [model]="cmenuitems"
            appendTo="body"
            triggerEvent="click"
            [autoZIndex]="true"
          ></p-contextMenu>
          <div class="box-body table-responsive">
            <table class="table table-bordered table-striped table-sm">
              <thead>
                <tr>
                  <th>IP Address</th>
                  <th>MAC Address</th>
                  <th>IP->DNS</th>
                  <th>DNS->IP</th>
                  <th>DNS Status</th>
                  <th>Status</th>
                  <th>Device Type</th>
                  <th>Connected Switch</th>
                  <th>Connected Port</th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngIf="ipDetails && ipDetails.length > 0">
                  <tr *ngFor="let ipDetail of ipDetails">
                    <td>
                      <span class="mr-2">{{ ipDetail.ipAddress }}</span>
                      <i
                        class="fas fa-caret-right"
                        (click)="openCM($event, cm, ipDetail)"
                      ></i>
                    </td>
                    <td>{{ ipDetail.macAddress }}</td>
                    <td>{{ ipDetail.ipDNS }}</td>
                    <td>{{ ipDetail.dnsIp }}</td>
                    <td>{{ ipDetail.dnsStatus }}</td>
                    <td>
                      <i class="fas fa-check-circle text-success"></i>
                      <span class="ml-2">{{ ipDetail.status }}</span>
                    </td>
                    <td>{{ ipDetail.deviceType }}</td>
                    <td>{{ ipDetail.connectedSwitch }}</td>
                    <td>{{ ipDetail.connectedPort }}</td>
                  </tr>
                </ng-container>
                <tr *ngIf="ipDetails == null || ipDetails.length == 0">
                  <td colspan="9" style="text-align: center">
                    {{ statusMessage }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </mat-tab>
  <mat-tab label="IP History">
    <section class="content-body">
      <div class="col-md-12 no-padding">
        <div class="box">
          <div class="box-header">
            <h5 class="box-title">IP History</h5>
          </div>
          <p-contextMenu
            #cm2
            [model]="cmenuitems"
            appendTo="body"
            triggerEvent="click"
            [autoZIndex]="true"
          ></p-contextMenu>
          <div class="box-body">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th data-column="ipAddress">IP Address</th>
                  <th data-column="detectedTime">Detected Time</th>
                  <th data-column="dnsName">DNS Name</th>
                  <th data-column="macAddress" style="width:125px">MAC Address</th>
                  <th data-column="deviceType">Device Type</th>
                  <!-- <th data-column="sysDesc" style="width: 125px;">Sys Description</th> -->
                </tr>
              </thead>
              <tbody>
                <ng-container *ngIf="ipHistories && ipHistories.length > 0">
                  <tr *ngFor="let ipHistory of ipHistories">
                    <td>
                      <span class="mr-2">{{ ipHistory.ipAddress }}</span>
                      <i
                        class="fas fa-caret-right"
                        (click)="openCM($event, cm2, ipHistory)"
                      ></i>
                    </td>
                    <td>{{ ipHistory.detectedTime }}</td>
                    <td>{{ ipHistory.dnsName }}</td>
                    <td>{{ ipHistory.macAddress }}</td>
                    <td>{{ ipHistory.deviceType }}</td>
                    <!-- <td>{{ ipHistory.sysDesc }}</td> -->
                  </tr>
                </ng-container>
                <tr *ngIf="ipHistories == null || ipHistories.length == 0">
                  <td colspan="9" style="text-align: center">
                    {{ statusMessage }}
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </mat-tab>
</mat-tab-group>

<app-test-ip
  [(pageTitle)]="pageTitle"
  [(ipDetail)]="selectedIpDetail"
  [(openWidth)]="width"
  (closeWidth)="closeDiv($event)"
></app-test-ip>